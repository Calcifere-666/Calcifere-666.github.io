<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kdou mission 3</title>
    <link href="/css/style.css" rel="stylesheet" />
    <link href="/css/mission3.css" rel="stylesheet" />
    <script src="/js/icons.js"></script>
    <link rel="icon" type="image/x-icon" href="/img/logo.png" />
  </head>

  <body>
    <!-- Header : top du site -->
    <header>
      <nav>
        <div class="logo-div">
          <h1>KDOU's INDUSTRY</h1>
        </div>
        <div class="nav-link-div">
          <a href="index.html">Acceuil</a>
          <a href="mission1.html">Mission 1</a>
          <a href="mission2.html">Mission 2</a>
          <a href="mission3.html">Mission 3</a>
        </div>
        <div class="nav-link-div-responsive">
          <i class="fa-solid fa-bars"></i>
          <div class="menu-deroulant">
            <a href="index.html">Accueil</a>
            <a href="mission1.html">Mission 1</a>
            <a href="mission2.html">Mission 2</a>
            <a href="mission3.html">Mission 3</a>
          </div>
        </div>
      </nav>
    </header>

    <!-- Main : partie centrale du site -->
    <main>
        <article class="mission">
          <h2>Mission 3</h2>
          <p>
            Cette mission a pour but d'analyser les données de l'entreprise pour
            ensuite produire des indicateurs pertinents pour l'évolution de l'entreprise
          </p>
          <ol>
            <li>
              <div class="theme">
                <h3>Desserts et Boissons</h3>
                <p>
                  Nous analysons les desserts et boissons en lien avec la santé pour Kdou et ses clients
                  Nous avons eu pour consigne de calculer le chiffre d'affaire généré par catégorie.<br>
                  Voici les chiffres d'affaires des desserts et des boissons que nous avons récupéré par la requête SQL.<br>
                  Cette requête est importante si Kdou veut savoir combien génèrent-t-il et les aider à investir ou réduire selon leur politique.
                </p>
                <div class="contenu-indicateur">
                  <p>
                    Code SQL : <br><br>
                    SELECT SUM(D.PrixUnitCli * D.QteCom) AS chiffreaffaire, C.NomCateg <br>
                    FROM categorie AS C, fournisseur AS F, produit AS P, detailcommande AS D <br>
                    WHERE P.NoFour = F.NoFour <br> <br>

                    AND D.RefProd = P.RefProd <br>
                    AND C.CodeCateg = P.CodeCateg <br>
                    AND C.NomCateg LIKE "Desserts" <br>
                    GROUP BY C.NomCateg; <br> <br>

                    UNION ALL SELECT SUM(D.PrixUnitCli * D.QteCom) AS chiffreaffaire, C.NomCateg <br>
                    FROM categorie AS C, fournisseur AS F, produit AS P, detailcommande AS D <br>
                    WHERE P.NoFour = F.NoFour <br>
                    AND D.RefProd = P.RefProd <br>
                    AND C.CodeCateg = P.CodeCateg <br>
                    AND C.NomCateg LIKE "Boissons" <br>
                    GROUP BY C.NomCateg;</p>
                  <img id="indicateur1" src="img/mission3/mission3-prix.png"  alt="resultat du code SQL">
                  <!-- TO DO: placer correctement l'image et mettre " resultat du code SQL : " -->
                  <!-- TO DO: cliquez sur l'image pour agrandir " -->

                </div>
                <hr>
                <p>On veut savoir combien y a-t-il des produits correspondants vendus 50€ ou
                  plus et leur pays d’origine. <br>
                  Cet indicateur nous permet de savoir quel pays achète des produits plutot couteux.
                </p>
                <div class="contenu-indicateur">
                  <p>
                    Code SQL : <br><br>
                    SELECT Pays, NomProd, NomCateg, NULL AS NombreProduit<br>
                    FROM Fournisseur F
                    INNER JOIN (Produit AS P1 INNER JOIN Categorie AS C1 ON P1.CodeCateg =
                    C1.CodeCateg ) ON F.NoFour = P1.NoFour<br>
                    WHERE (NomCateg LIKE "Desserts" OR NomCateg LIKE "Boissons") AND (PrixUnit >=
                    50)<br>
                    GROUP BY Pays, NomProd, NomCateg<br><br>

                    UNION ALL SELECT NULL as Pays, NULL as NomProd, NULL as NomCateg, COUNT(*)
                    AS NombreProduit<br>

                    FROM Fournisseur F<br>
                    INNER JOIN (Produit AS P1 INNER JOIN Categorie AS C1 ON P1.CodeCateg =
                    C1.CodeCateg ) ON F.NoFour = P1.NoFour<br>
                    WHERE (NomCateg LIKE "Desserts" OR NomCateg LIKE "Boissons") AND (PrixUnit >=
                    50);<br>
                    </p>
                  <img id="indicateur2" src="img/mission3/mission3-pays.png"  alt="resultat du code SQL">
                  <!-- TO DO: placer correctement l'image et mettre " resultat du code SQL : " -->
                  <!-- TO DO: cliquez sur l'image pour agrandir " -->
                </div>
              </div>
            </li>
            <li>
              <div class="theme">
                <h3>L'offre de Kdou</h3>
                <p>
                  Dans le grand 1, on cherche à comprendre l’impact sur la santé des produits que proposent
                  Kdou. Cette requête nous permet donc de pouvoir comparer les chiffres d’affaires de ces
                  différentes catégories de produits afin d’en savoir plus sur les différents envient de nos clients
                  par catégories.<br><br>
                  Ce sont les résultats auquel les fournisseurs qui ont des produits qui n'ont jamais été commandés.
                  On pourrait utiliser ces informations afin de  trouver d'autres fournisseurs qui n'ont que
                  des produits vendus pour éviter les pertes ou bien dire aux fournisseurs qu'ils ont des produits non vendus
                </p>
                <div class="contenu-indicateur">
                  <p>
                    Code SQL : <br> <br>
                    SELECT DISTINCT F.Societe, F.Contact, F.Fonction, F.Adresse<br>
                    FROM Fournisseur AS F INNER JOIN Produit AS P ON F.NoFour = P.NoFour<br>
                    WHERE (((Exists (SELECT DC.RefProd<br>
                    FROM DetailCommande AS DC<br>
                    WHERE DC.RefProd = P.RefProd)) =False));
                  </p>
                  <img id="indicateur3" src="img/mission3/mission3-four.png"  alt="resultat du code SQL">
                </div>
                <hr>
                <p>Ce sont le nombre de produits non vendus par catégorie donc on peut dire aux fournisseurs
                  que dans ces catégories de produits il y a tant de produits non vendus et réaction, réajusté
                  les stocks par rapport a la catégorie, produire plus si la catégorie a peu de produits non vendus
                </p>
                <div class="contenu-indicateur">
                  <p>
                    sous-requête : <br><br>
                    SELECT C.NomCateg, P.RefProd<br>
                    FROM (Categorie AS C INNER JOIN Produit AS P ON C.CodeCateg = P.CodeCateg) LEFT
                    JOIN DetailCommande AS DC ON P.RefProd = DC.RefProd<br>
                    WHERE DC.RefProd IS NULL;<br>
                  </p>
                </div>
                <div class="contenu-indicateur">
                  <p>
                    Code SQL : <br>
                    <br>
                    SELECT [2b sous requête].NomCateg, Count([2b sous requête].RefProd) AS
                    NbProduitNonVendu<br>

                    FROM [2b sous requête]<br>
                    GROUP BY [2b sous requête].NomCateg;
                  </p>
                  <img src="img/mission3/mission3-prodvendu.png"  alt="resultat du code SQL">
                </div>
              </div>
            </li>
            <li>
              <div class="theme">
                <h3>Provenance des produits</h3>
                <p>
                  Ici, nous étudions la provenance des produits de Kdou
                  en se focalisant sur les desserts et boissons.<br>
                  <br>
                  Voici les résultats des fournisseurs qui vendent
                  uniquement des boissons et desserts.
                </p>
                <div class="contenu-indicateur">
                  <p>
                    Code SQL : <br><br>
                    SELECT Fournisseur.Societe<br>
                    FROM Fournisseur<br>
                    WHERE NoFour NOT IN (
                    SELECT DISTINCT Produit.NoFour<br>
                    FROM Produit<br>
                    WHERE Produit.CodeCateg NOT IN (1, 3)
                    )<br>
                    AND NoFour IN (<br>
                    SELECT DISTINCT Produit.NoFour<br>
                    FROM Produit<br>
                    WHERE Produit.CodeCateg IN (1, 3)
                    );
                  </p>
                  <img src="img/mission3/mission3-fourprod.png" alt="resultat du code sql">
                </div>
                <hr>
                <p>
                  Maintenant, nous cherchons si il y a des
                  fournisseurs qui vendent des boissons et des desserts.<br> Voici
                  les résultats.
                </p>
                <div class="contenu-indicateur">
                  <p>
                    SELECT DISTINCT P.NoFour, P.NomProd, F.Societe<br>
                    FROM Produit AS P, Fournisseur AS F<br>
                    WHERE P.CodeCateg = 1<br>
                    AND F.NoFour = P.NoFour<br>
                    AND P.NoFour IN (<br>
                    SELECT DISTINCT P.NoFour<br>
                    FROM Produit AS P<br>
                    WHERE P.CodeCateg = 3
                    );
                  </p>
                  <img src="img/mission3/mission3-dessertboisson.png" alt="resulat du code sql">
                </div>
              </div>
            </li>
            <li>
              <div class="theme">
                <h3>La clientèle</h3>
                <p>
                  Dans cette partie, nous avons étudié la clientèle de Kdou et les remises <br>
                  <br>

                </p>
                <div class="contenu-indicateur">

                </div>
              </div>
            </li>
          </ol>
        </article>
    </main>

    <!-- Footer : bas de page du site -->
    <footer>
      <div>
        <h1>KDOU's INDUSTRY</h1>
      </div>
      <div>
        <h2>CONTACT</h2>
        <div>
          <a>06 12 23 32 41</a>
          <a>nouscontacter@kdou.com</a>
          <a>143 Av. de Versailles</a>
        </div>
      </div>
    </footer>
  </body>
</html>
